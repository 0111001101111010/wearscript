<html style="width:100%; height:100%; overflow:hidden">
<body style="width:100%; height:100%; overflow:hidden; margin:0" bgcolor="#000000">
<script>
function onScroll(v, v2, v3) {
    WS.log('onScroll: ' + v + ', ' + v2 + ', ' + v3);
    var v = Math.min(180, Math.max(0, v / 6));
    WS.log('V: ' + v);
    WS.blobSend('arduino', JSON.stringify([0, Math.round(v)]));
}
function onGesture(v) {
    WS.log('Gesture: ' + v);
    if (v == 'TAP')
        WS.blobSend('arduino', JSON.stringify([3, 0]));
    else if (v == 'TWO_TAP')
        WS.blobSend('arduino', JSON.stringify([3, 1]));
}   
function setPixelColor(led, r, g, b) {
    WS.blobSend('arduino', JSON.stringify([0, led, r, g, b]));
}
function setBrightness(l) {
    WS.blobSend('arduino', JSON.stringify([1, l, 0, 0, 0]));
}
function show() {
    WS.blobSend('arduino', JSON.stringify([2, 0, 0, 0, 0]));
}
function server() {
    WS.log('Welcome to WearScript');
    for (var i = 1; i < 20; i++)
			    setPixelColor(i - 1, i * 50 % 256, i * 17 % 256, i * 98 % 256);
    //setBrightness(200);
    show()
    //WS.gestureCallback('onScroll', 'onScroll');
    //WS.gestureCallback('onGesture', 'onGesture');
}
function main() {
    if (WS.scriptVersion(0)) return;
    WS.serverConnect('{{WSUrl}}', 'server');
}
window.onload = main;
</script>
</body>
</html>
